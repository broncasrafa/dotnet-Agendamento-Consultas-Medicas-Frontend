<!-- Quero fazer uma pergunta -->
<section id="hero" class="perguntas-respostas section light-background">
  <div>
    <img src="../../../assets/img/doctors-8.png" alt="" data-aos="fade-in">
  </div>

  <div class="container position-relative">

    <div class="welcome position-relative" data-aos="fade-down" data-aos-delay="100">
      <h2>Pergunte ao profissional de saúde</h2>
      <p>
        Tire dúvidas com nossos médicos e demais profissionais de saúde.
      </p>
      <br />
      <p>
        <button class="cta-btn-primary">Quero fazer uma pergunta</button>
      </p>
    </div>
  </div>
</section>

<!-- Como que funciona? -->
<section id="services" class="services section">
  <div class="container section-title" data-aos="fade-up">
    <h2>Como que funciona?</h2>
  </div>

  <div class="container">
    <div class="row gy-4">
      <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="100">
        <div class="service-item  position-relative">
          <div class="icon">
            <i class="fas fa-solid fa-1"></i>
          </div>
          <a href="#" class="stretched-link">
            <h3>Pergunte</h3>
          </a>
          <p>
            Escreva sua pergunta sobre saúde de forma breve e direta. Lembre-se de ser claro e objetivo!
          </p>
        </div>
      </div><!-- End Service Item -->

      <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200">
        <div class="service-item position-relative">
          <div class="icon">
            <i class="fas  fa-solid fa-2"></i>
          </div>
          <a href="#" class="stretched-link">
            <h3>Envie e aguarde</h3>
          </a>
          <p>
            Sua pergunta será redirecionada e distribuem entre os especialistas disponíveis.
          </p>
        </div>
      </div><!-- End Service Item -->

      <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="300">
        <div class="service-item position-relative">
          <div class="icon">
            <i class="fas  fa-solid fa-3"></i>
          </div>
          <a href="#" class="stretched-link">
            <h3>Leia</h3>
          </a>
          <p>
            Quando sua resposta for postada, você será notificado por e-mail. Você pode ser respondido por mais
            de um especialista.
          </p>
        </div>
      </div><!-- End Service Item -->
    </div>
  </div>
</section>

<section id="doctors" class="doctors section">

  <!-- Section Title -->
  <div class="container section-title" data-aos="fade-up">
    <h2>Principais perguntas sobre saúde (7.979)</h2>
  </div>

@if (perguntasList !== undefined && perguntasList !== null && perguntasList.length > 0) {
  @for (pergunta of perguntasList; track pergunta.id; let idx = $index) {

    <section style="margin-bottom: -6rem; margin-top: -6rem;">
      <div class="container overflow-hidden">
        <div class="row gy-3 gy-lg-4">
          <div class="col-12 col-lg-12">
            <div class="card">
              <div class="card-body">
                <div class="row">
                  <div class="col-12 col-md-10 col-lg-12">
                    <h5 class="mb-4 pergunta-text" (click)="onRedirectPergunta(pergunta.id)">{{pergunta.pergunta }}</h5>
                    <p class="card-text mb-2"><small class="text-muted">{{pergunta.createdAtFormatted}}</small></p>
                  </div>
                </div>
              </div>

              @if (pergunta.respostas !== undefined && pergunta.respostas !== null && pergunta.respostas.length > 0) {
                <div class="card-body p-4">
                  <blockquote class="bsb-blockquote-icon mb-3">{{pergunta.respostas[0].resposta}}</blockquote>
                  <p class="card-text"><small class="text-muted">{{pergunta.respostas[0].createdAtFormatted}}</small></p>
                  <figure class="d-flex align-items-center m-0 p-0">
                    <img class="img-fluid rounded rounded-circle m-0 border border-5" loading="lazy" src="assets/img/doctors/doctors-2.jpg" alt="{{pergunta.respostas[0].especialista.nome}}" width="80" height="80" >
                    <figcaption class="ms-3">
                      <h4 class="mb-1 h5">{{pergunta.respostas[0].especialista.nome}}</h4>
                      <h5 class="fs-6 text-secondary mb-0">{{pergunta.respostas[0].especialista.especialidades[0].nome}}</h5>
                      @if (pergunta.respostas[0].especialista.avaliacao !== undefined && pergunta.respostas[0].especialista.avaliacao !== null) {
                        <div class="bsb-ratings text-warning mb-3" data-bsb-star="pergunta.respostas[0].especialista.avaliacao" data-bsb-star-off="0"></div>
                      }
                      <p class="mt-4">
                        <button class="cta-btn-primary">Marcar consulta agora</button>
                      </p>
                    </figcaption>
                  </figure>
                </div>
                <div class="card-body">
                  <p><a href="#" class="card-link link-primary text-decoration-none">Ver todas as respostas</a></p>
                </div>
              } @else {
                <div class="card-body">
                  <p>
                    Sem respostas até o momento
                  </p>
                </div>
              }
            </div>
          </div>
        </div>
      </div>
    </section>


  } @empty {
    <span>Empty list of perguntas</span>
  }
} @else {
  <span>No data provided</span>
}



    <!-- <div class="container"></div> -->




<!--
  <div class="container">
    @if (perguntasList !== undefined && perguntasList !== null && perguntasList.length > 0) {
      @for (pergunta of perguntasList; track pergunta.id; let idx = $index) {
        <div class="row gy-4">
          <div class="perguntas-respostas-list-box" data-aos="fade-up" data-aos-delay="200">
            <div class="row">
              <div class="col-lg-12">
                <h5>{{pergunta.pergunta }}</h5>
              </div>
              <div class="col-lg-12">
                <p><em>{{pergunta.createdAtFormatted}}</em></p>
              </div>
            </div>

            <div>
              @if (pergunta.respostas !== undefined && pergunta.respostas !== null && pergunta.respostas.length > 0) {
                <div class="row">
                  <div class="col-lg-7">
                    <div class="team-member align-items-start respostas-box">
                      <p><em>{{pergunta.respostas[0].createdAtFormatted}}</em></p>
                      <div class="fs-12pt pt-2">{{pergunta.respostas[0].resposta}}</div>
                      <div class="text-end respostas-reactions">
                        <ul class="list-inline">
                          <li class="list-inline-item pr-10">
                            <i class='far fa-thumbs-up fs-22px'></i> {{pergunta.respostas[0].likes}}
                          </li>
                          <li class="list-inline-item">
                            <i class='far fa-thumbs-down fs-22px'></i> {{pergunta.respostas[0].dislikes}}
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>

                  <div class="col-lg-5">
                    <div class="team-member d-flex align-items-start">
                      <div class="pic"><img src="assets/img/doctors/doctors-2.jpg" class="img-fluid" alt=""></div>
                      <div class="member-info">
                        <h4>{{pergunta.respostas[0].especialista.nome}}</h4>
                        <span>{{pergunta.respostas[0].especialista.especialidades[0].nome}}</span>
                        <p>Aqui vai ficar o rating</p>
                        <div class="social">
                          <p>
                            <button class="cta-btn-primary">Marcar consulta agora</button>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row respostas-todas">
                  <div class="col-lg-12">
                    <div class="fs-12pt">
                      <a href="#" class="link-primary text-decoration-none">Ver todas as respostas</a>
                    </div>
                  </div>
                </div>
              } @else {
                <div class="row">
                  <div class="col-lg-12">
                    <div class="fs-12pt">Sem respostas até o momento</div>
                  </div>
                </div>
              }
            </div>

            <hr />
          </div>

        </div>
      } @empty {
          <span>Empty list of perguntas</span>
      }
    }
    @else {
      <span>No data provided</span>
    }
  </div>
-->
</section>




<!--
    <div class="row gy-4">
      <div class="col-lg-6" data-aos="fade-up" data-aos-delay="200">
        <div class="team-member d-flex align-items-start">
          <div class="pic"><img src="assets/img/doctors/doctors-2.jpg" class="img-fluid" alt=""></div>
          <div class="member-info">
            <h4>Sarah Jhonson</h4>
            <span>Anesthesiologist</span>
            <p>Aut maiores voluptates amet et quis praesentium qui senda para</p>
            <div class="social">
              <a href=""><i class="bi bi-twitter-x"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""> <i class="bi bi-linkedin"></i> </a>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-6" data-aos="fade-up" data-aos-delay="400">
        <div class="team-member d-flex align-items-start">
          <div class="pic"><img src="assets/img/doctors/doctors-4.jpg" class="img-fluid" alt=""></div>
          <div class="member-info">
            <h4>Amanda Jepson</h4>
            <span>Neurosurgeon</span>
            <p>Dolorum tempora officiis odit laborum officiis et et accusamus</p>
            <div class="social">
              <a href=""><i class="bi bi-twitter-x"></i></a>
              <a href=""><i class="bi bi-facebook"></i></a>
              <a href=""><i class="bi bi-instagram"></i></a>
              <a href=""> <i class="bi bi-linkedin"></i> </a>
            </div>
          </div>
        </div>
      </div>
    </div>
-->
